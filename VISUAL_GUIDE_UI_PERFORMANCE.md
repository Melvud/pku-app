# –í–∏–∑—É–∞–ª—å–Ω–æ–µ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ò–∑–º–µ–Ω–µ–Ω–∏—è–º UI –∏ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## –ö—Ä–∞—Ç–∫–∏–π –û–±–∑–æ—Ä –ò–∑–º–µ–Ω–µ–Ω–∏–π

### 1. –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ó–∞–≥–æ–ª–æ–≤–∫–∏ (Before/After)

#### –ë–´–õ–û (–†–∞–∑–Ω—ã–µ —Å—Ç–∏–ª–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö):
```
Statistics Screen:    [<=] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ üìÖ
                      (Fixed height, overlapping text)

Admin Panel:          [icon] –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
                      (Long text, no scrollable tabs)

Recipes:             –†–µ—Ü–µ–ø—Ç—ã
                     (Simple, inconsistent)
```

#### –°–¢–ê–õ–û (–ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –≤–µ–∑–¥–µ):
```
All Screens:         ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
                     ‚ïë  Gradient Background       ‚ïë
                     ‚ïë  Title                     ‚ïë
                     ‚ïë  Subtitle (optional)       ‚ïë
                     ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AppHeader:
```dart
// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Statistics Screen
AppHeader(
  title: '–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞',
  subtitle: '–ù–æ—è–±—Ä—å 2025',  // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–µ—Å—è—Ü
  expandedHeight: 140,
  actions: [
    IconButton(
      icon: Icon(Icons.calendar_month, color: Colors.white),
      onPressed: _selectMonth,
    ),
    IconButton(
      icon: Icon(Icons.file_download, color: Colors.white),
      onPressed: _showExportDialog,
    ),
  ],
)
```

---

## 2. –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

### –†–∞–∑–º–µ—Ä –ö–∞—Ä—Ç–æ—á–µ–∫ (Before/After)

#### –ë–´–õ–û (~200px –≤—ã—Å–æ—Ç–∞):
```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë  ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ                                  ‚ïë
‚ïë  ‚îÇ üí¨ ‚îÇ  –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤            [Pending]‚ïë
‚ïë  ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ                                  ‚ïë
‚ïë       üïê 15.11.2024 14:30                ‚ïë
‚ïë                                          ‚ïë
‚ïë  ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ   ‚ïë
‚ïë  ‚îÇ üç¥ –†–µ—Ü–µ–ø—Ç:                       ‚îÇ   ‚ïë
‚ïë  ‚îÇ –°–∞–ª–∞—Ç —Å –∫—É—Ä–∏—Ü–µ–π                  ‚îÇ   ‚ïë
‚ïë  ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ   ‚ïë
‚ïë                                          ‚ïë
‚ïë  –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:                            ‚ïë
‚ïë  ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ   ‚ïë
‚ïë  ‚îÇ –û—á–µ–Ω—å –≤–∫—É—Å–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç!            ‚îÇ   ‚ïë
‚ïë  ‚îÇ –°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ.   ‚îÇ   ‚ïë
‚ïë  ‚îÇ –ë—É–¥—É –≥–æ—Ç–æ–≤–∏—Ç—å –Ω–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö.       ‚îÇ   ‚ïë
‚ïë  ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ   ‚ïë
‚ïë                                          ‚ïë
‚ïë  [–û—Ç–∫–ª–æ–Ω–∏—Ç—å]  [–£–¥–∞–ª–∏—Ç—å]  [–û–¥–æ–±—Ä–∏—Ç—å]     ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

#### –°–¢–ê–õ–û (~120px –≤—ã—Å–æ—Ç–∞):
```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë üë§ –ò–≤–∞–Ω ‚Ä¢ 15.11 14:30      [Pending]    ‚ïë
‚ïë üç¥ –°–∞–ª–∞—Ç —Å –∫—É—Ä–∏—Ü–µ–π                       ‚ïë
‚ïë –û—á–µ–Ω—å –≤–∫—É—Å–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç! –°–ø–∞—Å–∏–±–æ...        ‚ïë
‚ïë [–û—Ç–∫–ª–æ–Ω–∏—Ç—å] [–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ] [–û–¥–æ–±—Ä–∏—Ç—å]    ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

### –°—Ç–∞—Ç—É—Å—ã –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

```dart
enum CommentStatus {
  pending('–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏'),    // üü° –ñ–µ–ª—Ç—ã–π
  approved('–û–¥–æ–±—Ä–µ–Ω'),        // üü¢ –ó–µ–ª–µ–Ω—ã–π
  rejected('–û—Ç–∫–ª–æ–Ω–µ–Ω'),       // üî¥ –ö—Ä–∞—Å–Ω—ã–π
  reviewed('–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ'),    // üîµ –°–∏–Ω–∏–π ‚Üê –ù–û–í–û–ï!
}
```

### –î–µ–π—Å—Ç–≤–∏—è –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞:

| –î–µ–π—Å—Ç–≤–∏–µ | –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç | –ì–¥–µ –≤–∏–¥–Ω–æ |
|----------|----------------|-----------|
| **–û–¥–æ–±—Ä–∏—Ç—å** | status = approved | –í —Ä–µ—Ü–µ–ø—Ç–∞—Ö –¥–ª—è –≤—Å–µ—Ö |
| **–û—Ç–∫–ª–æ–Ω–∏—Ç—å** | status = rejected | –ù–∏–≥–¥–µ (—Å–∫—Ä—ã—Ç) |
| **–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ** | status = reviewed | –í —Ä–µ—Ü–µ–ø—Ç–∞—Ö –¥–ª—è –≤—Å–µ—Ö |
| **–£–¥–∞–ª–∏—Ç—å** | –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –ë–î | –ù–∏–≥–¥–µ (—É–¥–∞–ª–µ–Ω) |

**–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É "–û–¥–æ–±—Ä–∏—Ç—å" –∏ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ":**
- **–û–¥–æ–±—Ä–∏—Ç—å** = "–≠—Ç–æ —Ö–æ—Ä–æ—à–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –ø—É–±–ª–∏–∫—É–µ–º"
- **–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ** = "–Ø –ø–æ—Å–º–æ—Ç—Ä–µ–ª, –Ω–∏—á–µ–≥–æ –ø–ª–æ—Ö–æ–≥–æ –Ω–µ—Ç, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å"

---

## 3. –õ–æ–∫–∞–ª—å–Ω–æ–µ –•—Ä–∞–Ω–∏–ª–∏—â–µ - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö SQLite

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     pku_tracker.db                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Table: articles                    ‚îÇ
‚îÇ  - id, title, pdfUrl, createdAt...  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Table: recipes                     ‚îÇ
‚îÇ  - id, name, ingredients, status... ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Table: products                    ‚îÇ
‚îÇ  - id, name, phePer100g, protein... ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Table: user_profile                ‚îÇ
‚îÇ  - userId, name, weight, limit...   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Table: sync_metadata               ‚îÇ
‚îÇ  - key, lastSyncTimestamp           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ—Ç–æ–∫ –î–∞–Ω–Ω—ã—Ö (Data Flow)

```
User Opens Screen
       ‚Üì
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ Check Local Cache ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚Üì
   Has cached data? ‚îÄ‚îÄYES‚îÄ‚îÄ‚Üí Show data (instant!)
          ‚Üì NO                      ‚Üì
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      Check sync time
   ‚îÇ Fetch from       ‚îÇ            ‚Üì
   ‚îÇ Firebase         ‚îÇ      > 1 hour old? ‚îÄ‚îÄYES‚îÄ‚îÄ‚Üí Background sync
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚Üì NO
          ‚Üì                   Use cache (done!)
   Update cache
          ‚Üì
   Show data
```

### –ö–æ–¥ –ü—Ä–∏–º–µ—Ä–∞ (RecipesProvider)

```dart
Future<void> loadApprovedRecipes() async {
  _isLoading = true;
  notifyListeners();

  // –®–ê–ì 1: –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –∫–µ—à–∞ (0-50ms)
  final cachedRecipes = await _localDb.getCachedRecipes();
  if (cachedRecipes.isNotEmpty) {
    _recipes = _parseRecipes(cachedRecipes);
    _isLoading = false;
    notifyListeners();  // üéâ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ä–∞–∑—É!
  }

  // –®–ê–ì 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
  final shouldSync = await _localDb.shouldSyncWithFirebase('recipes');
  if (!shouldSync) {
    return;  // –ö–µ—à —Å–≤–µ–∂–∏–π, –≤—ã—Ö–æ–¥–∏–º
  }

  // –®–ê–ì 3: –§–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (1-3 —Å–µ–∫—É–Ω–¥—ã)
  final snapshot = await _firestore
      .collection('recipes')
      .where('status', isEqualTo: 'approved')
      .get();

  _recipes = snapshot.docs.map(...).toList();
  
  // –û–±–Ω–æ–≤–ª—è–µ–º –∫–µ—à
  await _localDb.cacheRecipes(...);
  
  notifyListeners();  // üîÑ –û–±–Ω–æ–≤–ª—è–µ–º UI
}
```

---

## 4. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –î–æ –∏ –ü–æ—Å–ª–µ

### –ú–µ—Ç—Ä–∏–∫–∏

| –î–µ–π—Å—Ç–≤–∏–µ | –î–û (Firebase) | –ü–û–°–õ–ï (Cache) | –£–ª—É—á—à–µ–Ω–∏–µ |
|----------|---------------|---------------|-----------|
| –û—Ç–∫—Ä—ã—Ç–∏–µ –†–µ—Ü–µ–ø—Ç–æ–≤ | 2-3 —Å–µ–∫ | 0.05 —Å–µ–∫ | **60x –±—ã—Å—Ç—Ä–µ–µ** |
| –û—Ç–∫—Ä—ã—Ç–∏–µ –°—Ç–∞—Ç–µ–π | 1-2 —Å–µ–∫ | 0.03 —Å–µ–∫ | **50x –±—ã—Å—Ç—Ä–µ–µ** |
| –ü—Ä–æ—Ñ–∏–ª—å | 0.5-1 —Å–µ–∫ | 0.02 —Å–µ–∫ | **40x –±—ã—Å—Ç—Ä–µ–µ** |
| Firebase Reads/–¥–µ–Ω—å | ~500-1000 | ~50-100 | **90% –º–µ–Ω—å—à–µ** |

### –û–ø—ã—Ç –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### –î–û:
```
User: *–Ω–∞–∂–∏–º–∞–µ—Ç "–†–µ—Ü–µ–ø—Ç—ã"*
App:  ‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞... (2-3 —Å–µ–∫—É–Ω–¥—ã)
User: üò¥ *–∂–¥–µ—Ç*
App:  ‚úÖ –ü–æ–∫–∞–∑–∞–Ω–æ 50 —Ä–µ—Ü–µ–ø—Ç–æ–≤
```

#### –ü–û–°–õ–ï:
```
User: *–Ω–∞–∂–∏–º–∞–µ—Ç "–†–µ—Ü–µ–ø—Ç—ã"*
App:  ‚úÖ –ü–æ–∫–∞–∑–∞–Ω–æ 50 —Ä–µ—Ü–µ–ø—Ç–æ–≤ (–∏–∑ –∫–µ—à–∞, –º–≥–Ω–æ–≤–µ–Ω–Ω–æ!)
      üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤ —Ñ–æ–Ω–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
User: üòä *—Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç –∫–æ–Ω—Ç–µ–Ω—Ç*
```

---

## 5. –°—Ü–µ–Ω–∞—Ä–∏–∏ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç "–†–µ—Ü–µ–ø—Ç—ã"
2. –ö–µ—à–∞ –Ω–µ—Ç ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ Firebase (2-3 —Å–µ–∫)
3. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∫–µ—à
4. –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ä–µ—Ü–µ–ø—Ç—ã

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ (—á–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç)
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç "–†–µ—Ü–µ–ø—Ç—ã"
2. –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–µ—à–∞ (0.05 —Å–µ–∫)
3. –ü—Ä–æ–≤–µ—Ä–∫–∞: –ø–æ—Å–ª–µ–¥–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è 10 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥ ‚Üí –Ω–µ –Ω—É–∂–Ω–∞
4. –ì–æ—Ç–æ–≤–æ!

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ (—á–µ—Ä–µ–∑ 2 —á–∞—Å–∞)
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç "–†–µ—Ü–µ–ø—Ç—ã"
2. –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–µ—à–∞ (0.05 —Å–µ–∫)
3. –ü—Ä–æ–≤–µ—Ä–∫–∞: –ø–æ—Å–ª–µ–¥–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è 2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥ ‚Üí –Ω—É–∂–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
4. –§–æ–Ω–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ Firebase
5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–µ—à–∞
6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI (–µ—Å–ª–∏ –µ—Å—Ç—å –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ)

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç "–†–µ—Ü–µ–ø—Ç—ã"
2. –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–µ—à–∞ (0.05 —Å–µ–∫)
3. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã!

### –°—Ü–µ–Ω–∞—Ä–∏–π 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç —Ä–µ—Ü–µ–ø—Ç
2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Firebase
3. **–û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ** —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–µ—à
4. –†–µ—Ü–µ–ø—Ç —Å—Ä–∞–∑—É –≤–∏–¥–µ–Ω –≤ —Å–ø–∏—Å–∫–µ

---

## 6. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### –¢–µ–∫—É—â–∏–µ –ù–∞—Å—Ç—Ä–æ–π–∫–∏

```dart
// –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥—ã–π —á–∞—Å
shouldSyncWithFirebase('recipes', maxAge: Duration(hours: 1))

// –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö:
shouldSyncWithFirebase('articles', maxAge: Duration(hours: 6))  // –°—Ç–∞—Ç—å–∏ —Ä–µ–∂–µ –º–µ–Ω—è—é—Ç—Å—è
shouldSyncWithFirebase('products', maxAge: Duration(days: 1))    // –ü—Ä–æ–¥—É–∫—Ç—ã –µ—â–µ —Ä–µ–∂–µ
shouldSyncWithFirebase('user_profile', maxAge: Duration(minutes: 30))  // –ü—Ä–æ—Ñ–∏–ª—å —á–∞—â–µ
```

### –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

```dart
// –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å
await _localDb.clearTable('recipes');
await recipesProvider.loadApprovedRecipes();
```

---

## 7. –û—Ç–ª–∞–¥–∫–∞ –∏ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

```
‚úÖ Loaded 50 recipes from cache
‚ÑπÔ∏è Using cached recipes (recent sync)
üîÑ Syncing recipes from Firebase...
‚úÖ Loaded 52 recipes from Firebase
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –°–æ—Å—Ç–æ—è–Ω–∏—è

```dart
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
final lastSync = await _localDb.getLastSyncTime('recipes');
print('Last sync: $lastSync');

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –∫–µ—à–µ
final recipes = await _localDb.getCachedRecipes();
print('Cached recipes: ${recipes.length}');
```

---

## 8. –ß–∞—Å—Ç–æ –ó–∞–¥–∞–≤–∞–µ–º—ã–µ –í–æ–ø—Ä–æ—Å—ã

### Q: –ß—Ç–æ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ Firebase –∏–∑–º–µ–Ω–∏–ª–∏—Å—å, –∞ —è —Å–º–æ—Ç—Ä—é –∫–µ—à?
**A:** –ö–µ—à —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —á–∞—Å. –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –±–æ–ª–µ–µ —á–∞—Å—Ç–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è, –∏–∑–º–µ–Ω–∏—Ç–µ `maxAge`. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–û–±–Ω–æ–≤–∏—Ç—å" –¥–ª—è —Ä—É—á–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

### Q: –°–∫–æ–ª—å–∫–æ –º–µ—Å—Ç–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –∫–µ—à?
**A:** ~1-5 MB –¥–ª—è —Ç–∏–ø–∏—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (50 —Ä–µ—Ü–µ–ø—Ç–æ–≤, 20 —Å—Ç–∞—Ç–µ–π, –ø—Ä–æ—Ñ–∏–ª—å).

### Q: –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –∫–µ—à–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?
**A:** SQLite –±–∞–∑–∞ —É–¥–∞–ª—è–µ—Ç—Å—è, –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–∑ Firebase.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ?
**A:** –î–∞, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `maxAge: Duration.zero` - —ç—Ç–æ –æ—Ç–∫–ª—é—á–∏—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ.

### Q: –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º?
**A:** –ï—Å–ª–∏ –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–µ—à–∞. –ü–æ–ø—ã—Ç–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–∏.

---

## 9. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ?
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ä–µ—Ü–µ–ø—Ç—ã, —Å—Ç–∞—Ç—å–∏)
- ‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚ùå **–ù–ï** —Ö—Ä–∞–Ω—è—Ç—Å—è: –ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã

### –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ SQLite (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –î–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

---

## –ò—Ç–æ–≥–∏

### ‚úÖ –ß—Ç–æ –£–ª—É—á—à–∏–ª–æ—Å—å:
1. **UI** - –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞–ª–æ–∂–µ–Ω–∏—è
2. **Admin** - –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏, –Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"
3. **Performance** - –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞, –º–µ–Ω—å—à–µ Firebase reads
4. **UX** - –Ω–µ—Ç –ø—É—Å—Ç—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤, —Ä–∞–±–æ—Ç–∞ –æ—Ñ–ª–∞–π–Ω

### üìä –ß–∏—Å–ª–∞:
- **60x** –±—ã—Å—Ç—Ä–µ–µ –∑–∞–≥—Ä—É–∑–∫–∞ —ç–∫—Ä–∞–Ω–æ–≤
- **90%** –º–µ–Ω—å—à–µ Firebase reads
- **~120px** –≤–º–µ—Å—Ç–æ ~200px –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- **1 —á–∞—Å** –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### üöÄ –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏:
1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
